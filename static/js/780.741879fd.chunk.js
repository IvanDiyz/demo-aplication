"use strict";(self.webpackChunkreact_k_1=self.webpackChunkreact_k_1||[]).push([[780],{4780:function(e,s,t){t.r(s),t.d(s,{default:function(){return q},withRouter:function(){return z}});var o=t(5671),i=t(3144),r=t(136),n=t(2882),a=t(8683),l=t(2791),c=t(885),u={descriptionBlock:"ProfileInfo_descriptionBlock__Qdrif",mainPhoto:"ProfileInfo_mainPhoto__P+xgq",contacts:"ProfileInfo_contacts__d4E-3",contacts__item:"ProfileInfo_contacts__item__f152m",formSummareError:"ProfileInfo_formSummareError__XMBZY"},d=t(2721),f=t(952),h=t(184),p=function(e){var s=(0,l.useState)(!1),t=(0,c.Z)(s,2),o=t[0],i=t[1],r=(0,l.useState)(e.status),n=(0,c.Z)(r,2),a=n[0],u=n[1];(0,l.useEffect)((function(){u(e.status)}),[e.status]);return console.log("render"),(0,h.jsxs)("div",{children:[!o&&(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Status:"})," ",(0,h.jsx)("span",{onDoubleClick:function(){i(!0)},children:e.status||"----"})]}),o&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),e.updateStatusTC(a)},value:a})})]})},x=t(9086),j=t(704),m=(0,j.Z)({form:"edit-profile"})((function(e){return console.log(e),(0,h.jsx)("div",{children:(0,h.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Save"})}),e.error&&(0,h.jsx)("div",{className:u.formSummareError,children:e.error}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Full name"}),": ",(0,x._d)("Full name","fullName",[],x.II,"text")]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Looking for a job"}),": ",(0,x._d)("","lookingForAJob",[],x.II,"checkbox")]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"My professional skills"}),": ",(0,x._d)("My professional skills","lookingForAJobDescription",[],x.gx,"text")]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"About Me"}),": ",(0,x._d)("About Me","aboutMe",[],x.gx,"text")]})]}),(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:u.contacts,children:[(0,h.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.profile.contacts).map((function(e){return(0,h.jsx)("div",{className:u.contact,children:(0,h.jsxs)("b",{children:[e,": ",(0,x._d)(e,"contacts."+e,[],x.II,"text")]})},e)}))]})})]})})}));var v=function(e){return(0,h.jsxs)("div",{children:[e.isOwner&&(0,h.jsx)("div",{children:(0,h.jsx)("button",{onClick:e.goToEditMode,children:"Edit"})}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Full name"}),": ",e.profile.fullName]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Looking for a job"}),": ",e.profile.lookingForAJob?"yes":"no"]}),e.profile.lookingForAJob&&(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"My professional skills"}),": ",e.profile.lookingForAJobDescription]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"About Me"}),": ",e.profile.aboutMe]})]}),(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:u.contacts,children:[(0,h.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.profile.contacts).map((function(s){return(0,h.jsx)(g,{cotactTitle:s,contactValue:e.profile.contacts[s]},s)}))]})})]})},g=function(e){var s=e.cotactTitle,t=e.contactValue;return(0,h.jsxs)("div",{className:u.contacts__item,children:[" ",(0,h.jsxs)("b",{children:[s,":"]})," ",t," "]})},P=function(e){var s=(0,l.useState)(!1),t=(0,c.Z)(s,2),o=t[0],i=t[1];return e.profile?(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:u.descriptionBlock,children:[(0,h.jsx)("img",{className:u.mainPhoto,src:null!=e.profile.photos.large?e.profile.photos.large:d,alt:""}),e.isOwner&&(0,h.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&e.savePhotoTC(s.target.files[0])}}),o?(0,h.jsx)(m,{initialValues:e.profile,onSubmit:function(s){e.saveProfile(s).then((function(){i(!1)}))},profile:e.profile}):(0,h.jsx)(v,{profile:e.profile,goToEditMode:function(){i(!0)},isOwner:e.isOwner}),(0,h.jsx)("div",{children:(0,h.jsx)(p,{status:e.status,updateStatusTC:e.updateStatusTC})})]})}):(0,h.jsx)(f.Z,{})},_=t(5332),b=t(2982),C=t(6139),k=t(5304),T="MyPosts_postsBlock__-HkGl",S="MyPosts_posts__iJcmi",Z="Post_item__V2Jmh",y="Post_avatar__PzDhz";var A=function(e){return(0,h.jsxs)("div",{className:Z,children:[(0,h.jsx)("img",{className:y,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRW8fN0rNZsyZlz8r0VSpNNk_h-iJ6IZ99NPA&usqp=CAU",alt:""}),e.message,(0,h.jsx)("div",{children:(0,h.jsxs)("span",{children:["Like ",e.likesCount]})})]})},M=l.memo((function(e){console.log("render MyPost");var s=(0,b.Z)(e.posts).reverse().map((function(e){return(0,h.jsx)(A,{message:e.message,likesCount:e.lieksCount},e.id)}));return(0,h.jsxs)("div",{className:T,children:[(0,h.jsx)("h3",{children:"my post"}),(0,h.jsx)("div",{children:(0,h.jsx)(I,{onSubmit:function(s){console.log(e),e.addPostsContainer(s.newPostText)}})}),(0,h.jsx)("div",{className:S,children:s})]})})),N=(0,k.D)(10),I=(0,j.Z)({form:"profileAddMessage"})((function(e){return console.log(e),(0,h.jsxs)("form",{onSubmit:e.handleSubmit,action:"",children:[(0,h.jsx)("div",{children:(0,h.jsx)(C.Z,{name:"newPostText",placeholder:"Your Message",component:x.gx,validate:[k.C,N]})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),w=M,O=t(8687),F=t(2381),D=(0,O.$j)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPostsContainer:function(s){e((0,_.t2)(s)),e((0,F.mc)("profileAddMessage"))}}}))(w);var E=function(e){return(0,h.jsxs)("div",{children:[(0,h.jsx)(P,{savePhotoTC:e.savePhotoTC,isOwner:e.isOwner,profile:e.profile,status:e.status,saveProfile:e.saveProfileTC,updateStatusTC:e.updateStatusTC}),(0,h.jsx)(D,{})]})},J=t(6871),U=t(1548),B=t(7781);function z(e){return function(s){var t={params:(0,J.UO)()};return(0,h.jsx)(e,(0,a.Z)((0,a.Z)({},s),{},{match:t}))}}var V=function(e){(0,r.Z)(t,e);var s=(0,n.Z)(t);function t(){return(0,o.Z)(this,t),s.apply(this,arguments)}return(0,i.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.autorizedUserId),this.props.getUserProfileTC(e),console.log(this.props),this.props.getStatusTC(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,h.jsx)("div",{children:(0,h.jsx)(E,(0,a.Z)((0,a.Z)({isOwner:!this.props.match.params.userId},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatusTC:this.props.updateStatusTC,savePhotoTC:this.props.savePhotoTC,saveProfileTC:this.props.saveProfileTC}))})}}]),t}(l.Component),q=(0,B.qC)((0,O.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,updateStatusTC:e.profilePage.updateStatusTC,autorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfileTC:_.d$,getStatusTC:_.GP,updateStatusTC:_.OG,savePhotoTC:_.Tw,saveProfileTC:_.Ms}),z,U.D)(V)},1548:function(e,s,t){t.d(s,{D:function(){return h}});var o=t(8683),i=t(5671),r=t(3144),n=t(136),a=t(2882),l=t(2791),c=t(8687),u=t(6871),d=t(184),f=function(e){return{isAuth:e.auth.isAuth}},h=function(e){var s=function(s){(0,n.Z)(l,s);var t=(0,a.Z)(l);function l(){return(0,i.Z)(this,l),t.apply(this,arguments)}return(0,r.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,o.Z)({},this.props)):(0,d.jsx)(u.Fg,{to:"/login"})}}]),l}(l.Component);return(0,c.$j)(f)(s)}}}]);
//# sourceMappingURL=780.741879fd.chunk.js.map